apply plugin: 'java'

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

compileJava.options.fork = true

// !!!Please set javacPath in gradle.properties before building!!! 
compileJava.options.forkOptions.executable = project.hasProperty('javacPath') ? project.property('javacPath') : System.getenv('JDK_HOME') 

task jdkVersion {
    println JavaVersion.current()
}

task runApp(type: JavaExec) {
    main = "sapphire.graalvm.demo.App"
    classpath = sourceSets.main.runtimeClasspath
    systemProperties = [
            JS_HOME: System.getProperty('JS_HOME', './src/main/js/'),
            RUBY_HOME: System.getProperty('RUBY_HOME', './src/main/ruby/')
    ]
}
